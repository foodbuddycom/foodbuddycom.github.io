<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Foodbuddy Insta</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h1>Foodbuddy Insta</h1>
    <div class="grid-container">
<div class="grid-item"><a href="posts/0.html"><img src="media/posts/202205/280762012_1053439278711396_9161325267548545177_n_17938753439085416.jpg" width="300"></a></div><div class="grid-item"><a href="posts/1.html"><img src="media/posts/202203/274970984_983721545589781_4772968798166041152_n_17908795961404711.jpg" width="300"></a></div><div class="grid-item"><a href="posts/2.html"><img src="media/posts/202202/273136386_674279070413073_446588474494165784_n_17916944846259220.jpg" width="300"></a></div><div class="grid-item"><a href="posts/3.html"><img src="media/posts/202202/258883886_994626971131579_7815631903807483506_n_17947567780686367.jpg" width="300"></a></div><div class="grid-item"><a href="posts/4.html"><img src="media/posts/202201/272868593_747020476265568_1683423978799427040_n_17960292664566667.jpg" width="300"></a></div><div class="grid-item"><a href="posts/5.html"><img src="media/posts/202112/269931953_4408965189213040_5419971972632007601_n_18031588990324677.jpg" width="300"></a></div><div class="grid-item"><a href="posts/6.html"><img src="media/posts/202110/244649894_1052548595513746_380531949500777014_n_18232968655076623.jpg" width="300"></a></div><div class="grid-item"><a href="posts/7.html"><img src="media/posts/202109/242464049_186396716911953_3677232079477138737_n_17952741241508690.jpg" width="300"></a></div><div class="grid-item"><a href="posts/8.html"><img src="media/posts/202108/239438608_1036370673840860_5769825295404596841_n_17910982252982767.jpg" width="300"></a></div><div class="grid-item"><a href="posts/9.html"><img src="media/posts/202108/236283815_356783885901533_6727470493172650940_n_17980080076399155.jpg" width="300"></a></div><div class="grid-item"><a href="posts/10.html"><img src="media/posts/202108/234834407_270535421098030_6485122148002871903_n_17928593647714776.jpg" width="300"></a></div><div class="grid-item"><a href="posts/11.html"><img src="media/posts/202107/228280360_355854605913631_3832045695965025321_n_17888015132269496.jpg" width="300"></a></div><div class="grid-item"><a href="posts/12.html"><img src="media/posts/202107/219477592_846837436013735_1293569993835519316_n_17893846176994854.jpg" width="300"></a></div><div class="grid-item"><a href="posts/13.html"><img src="media/posts/202107/218877771_540143493833415_434394459749335323_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/14.html"><img src="media/posts/202106/204365841_139485244928514_411738436672823682_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/15.html"><img src="media/posts/202106/203139368_1221448488295982_353091353143512814_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/16.html"><img src="media/posts/202106/202422943_150149383850170_2515399735549991009_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/17.html"><img src="media/posts/202105/191381599_314396380188115_3333940134722518333_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/18.html"><img src="media/posts/202105/188207595_482597139648761_8339933469164581925_n_17884109493216256.jpg" width="300"></a></div><div class="grid-item"><a href="posts/19.html"><img src="media/posts/202105/185239083_792905991365822_3534220141535266321_n_17884109493216256.jpg" width="300"></a></div>
    </div>
    <script>
        const gridContainer = document.querySelector('.grid-container');
        let nextPost = 20;
        const totalPosts = 1103; // This should be updated if you add more posts

        window.addEventListener('scroll', () => {
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 500 && nextPost < totalPosts) {
                loadMorePosts();
            }
        });

        function loadMorePosts() {
            const postsToLoad = 10;
            for (let i = 0; i < postsToLoad && nextPost < totalPosts; i++) {
                fetch(`posts/${nextPost}.html`)
                    .then(response => response.text())
                    .then(html => {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        const img = doc.querySelector('img');
                        if (img) {
                            const gridItem = document.createElement('div');
                            gridItem.classList.add('grid-item');
                            const link = document.createElement('a');
                            link.href = `posts/${nextPost}.html`;
                            const newImg = document.createElement('img');
                            newImg.src = img.src;
                            newImg.width = 300;
                            link.appendChild(newImg);
                            gridItem.appendChild(link);
                            gridContainer.appendChild(gridItem);
                        }
                        nextPost++;
                    });
            }
        }
    </script>
</body>
</html>